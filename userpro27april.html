<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Combine Textareas and Copy</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 10px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: vertical;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: black;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background-color: #45a049;
    }
    #output {
      margin-top: 20px;
      padding: 15px;
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      white-space: pre-wrap; /* IMPORTANT to keep formatting (new lines and spaces) */
    }
  </style>
</head>
<body>

  <h2>Combine Textareas and Copy to Clipboard</h2>
  <div class="row mb-3">
    <button  onclick="addNum('762357329', 'poster');replaceText();combineAndCopy()" >restau1</button>
    <div class="row mb-3">
      <div class="col-md-6">
        <input style="display: none;" type="text" id="bgr" class="form-control" placeholder="Word to replace">
      </div>
      
      <div class="col-md-6">
        <input style="display: none;" type="text" id="replaceWord4" class="form-control" placeholder="Replacement word4">
      </div>



</div>

  <textarea style="display: none;" id="text1" placeholder="Enter text in first textarea..."></textarea>
  <textarea id="text2" placeholder="Enter text in second textarea..."></textarea>
  <textarea style="display: none;" id="text3" placeholder="Enter text in third textarea..."></textarea>



  <div id="output"></div>

<button onclick="pasteFromClipboard('text2')">Paste</button>

<script>
  async function pasteFromClipboard(inputId) {
    try {
      const text = await navigator.clipboard.readText(); // Read from clipboard
      const input = document.getElementById(inputId);
      input.value = text;
    } catch (err) {
      console.error('Failed to read clipboard: ', err);
    }
  }
</script>

  <script>
     function addNum(numx, bgr){
        const inp = document.getElementById("replaceWord4").value = numx ;
        const bg = document.getElementById("bgr").value = bgr ;
    }   
    function replaceText() {
  let text = document.getElementById("text3").value = `<!-- and here -->          
                               <!-- Add to Cart Icon -->
                               <div id="cart-icon">
                                <h1>
                             
                                 +1 üçΩÔ∏è	üçî	üçï	üçú	ü•ó	
                             
                             
                                </h1>
                                 
                               </div> 
                             </div>
                                 <!-- Bootstrap Bundle JS -->
                                 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
                             </closeScript
                                 
                       <script>
                        function flipCard(button) {
    const card = button.closest('.card-container').querySelector('.flip-card');
    card.classList.toggle('flipped');
  
  
  }
  
  function sendOrderToWhatsApp() {
    const wrappers = document.querySelectorAll('.item-wrapper');
    let message = '*New Order:*%0A';
  
    wrappers.forEach(wrapper => {
        const name = wrapper.querySelector('h1.resulte')?.textContent || '';
        const count = wrapper.querySelector('span.resulte')?.textContent || '1';
        const price = wrapper.querySelector('h1.price')?.textContent || '';
  
        message += backTeck‚Ä¢ sDollar{name} xsDollar{count} - sDollar{price}%0AbackTeck;
    });
  
    
    const total = document.getElementById('total')?.textContent;
    if (total) {
        message += backTeck%0A*Total:* sDollar{total}backTeck;
    }
  
    
    const phoneNumber = '+221var-num';
  
    
    const whatsappUrl = backTeckhttps://wa.me/sDollar{phoneNumber}?text=sDollar{message}backTeck;
    window.open(whatsappUrl, '_blank');
  }
  
  
  
  
  function scrollToAndBack(elementId) {
    const originalY = window.scrollY;
    const target = document.getElementById(elementId);
    if (!target) return;
  
    
    target.scrollIntoView({ behavior: 'smooth' });
  
    
    setTimeout(() => {
      window.scrollTo({ top: originalY, behavior: 'smooth' });
    }, 2000); 
  }
  
  
  
  function updateTotal() {
    let total = 0;
  
    
    const prices = document.querySelectorAll('.price');
  
    
    prices.forEach(price => {
      const num = parseInt(price.textContent);
      if (!isNaN(num)) {
        total += num;
      }
    });
  
    
    const totalElement = document.getElementById('total-price');
    if (totalElement) {
      totalElement.textContent = total;
    }
  }
  
  
  function cbg(button) {
    
  
  
  
  const cardBack = button.closest('.card-back');
  
  
  const cardFront = cardBack.previousElementSibling;
  
  
  const item = cardFront.querySelector('.item');
  const itemx = cardFront.querySelector('.itemx');
  
  if (item && itemx && itemx.textContent == '' ) {
      itemx.textContent = item.textContent;
      button.closest('.card-back').style.borderColor = 'white';
      cardFront.style.borderColor = 'white';
      button.closest('.card-back').querySelector('.back').style.display = 'none';
      animateCart();
      scrollToAndBack('select');
      
      
      
  }
  else if (item && itemx && itemx.textContent != '' ) {
      itemx.textContent = '';
      button.closest('.card-back').style.borderColor = 'white';
      cardFront.style.borderColor = 'white';
      button.closest('.card-back').querySelector('.back').style.display = 'block';
      
      
      
  }
  }
  
  const itemCounts = new Map();
  
  function renderItemsToSelect() {
  const selectDiv = document.getElementById('select');
  const items = document.querySelectorAll('.itemx');
  
  
  selectDiv.innerHTML = '';
  
  
  
  items.forEach(item => {
      const text = item.textContent.trim();
      if (text !== '') {
        
          const cardContainer = item.closest('.card-container');
          const price = cardContainer.querySelector('.itemy');
          
  
          if (cardContainer) {
  
              cardContainer.style.display = 'none';
               
     
          }
  
          const priceValue = parseInt(price.textContent); 
          let count = itemCounts.get(text) || 1;
          
          
          const wrapper = document.createElement('div');
          wrapper.className = 'item-wrapper';
          wrapper.style.marginBottom = '10px';
          
          
          const h1 = document.createElement('h1');
          h1.textContent = text;
          h1.classList.add('resulte');
          
          
          const h1x = document.createElement('h1');
          h1x.textContent = backTecksDollar{priceValue * count} cfabackTeck;
          h1x.classList.add('price');
          
          
          const counter = document.createElement('span');
          counter.textContent = backTecksDollar{count}backTeck;
          counter.style.margin = '0 10px';
          counter.classList.add('resulte');
          
          
          const plusBtn = document.createElement('button');
          plusBtn.textContent = '+';
          plusBtn.onclick = () => {
              count++;
              itemCounts.set(text, count);
              counter.textContent = backTecksDollar{count}backTeck;
              h1x.textContent = backTecksDollar{priceValue * count} cfabackTeck;  
              updateTotal();
          };
          
          
          const minusBtn = document.createElement('button');
          minusBtn.textContent = '-';
          minusBtn.onclick = () => {
              if (count > 1) {
                  count--;
                  itemCounts.set(text, count);
                  counter.textContent = backTecksDollar{count}backTeck;
                  h1x.textContent = backTecksDollar{priceValue * count} cfabackTeck;  
                  updateTotal();
              }
          };
          
          
          const removeBtn = document.createElement('button');
          removeBtn.textContent = 'x';
          removeBtn.style.marginLeft = '10px';
          removeBtn.style.borderColor = 'red';
          removeBtn.style.color = 'red';
          removeBtn.onclick = () => {
              wrapper.remove();
              itemCounts.delete(text); 
  
              document.querySelectorAll('.itemx').forEach(el => {
                  if (el.textContent.trim() === text) {
                      el.textContent = '';
  
                      const container = el.closest('.card-container');
                      if (container) {
                          container.style.display = 'block';
  
                          const back = container.querySelector('.back');
                          if (back) back.style.display = 'block';
  
                          const selectBtn = container.querySelector('.selectButton');
                          if (selectBtn) selectBtn.textContent = '+';
  
                          flipCard(el);
                          updateTotal();
                      }
                  }
              });
          };
  
  
          wrapper.appendChild(h1);
          wrapper.appendChild(h1x);
          wrapper.appendChild(minusBtn);
          wrapper.appendChild(counter);
          wrapper.appendChild(plusBtn);
          wrapper.appendChild(removeBtn);
          selectDiv.appendChild(wrapper);
  
          updateTotal();
  
      }
  });
  }
  
  
  function show(event) {
  const results = document.querySelectorAll('.resulte');
  const listDone = document.getElementById('list_done');
  
  
  listDone.innerHTML = '';
  
  
  const table = document.createElement('table');
  table.classList.add('table', 'table-bordered');
  
  
  const headerRow = document.createElement('tr');
  const thNumbers = document.createElement('th');
  thNumbers.textContent = 'quantity';
  const thWords = document.createElement('th');
  thWords.textContent = 'object';
  headerRow.appendChild(thWords);
  headerRow.appendChild(thNumbers);
  
  table.appendChild(headerRow);
  
  
  const numberRow = document.createElement('tr');
  const numberCell = document.createElement('td');
  const wordCell = document.createElement('td');
  const wordList = document.createElement('ul');
  const numberList = document.createElement('ul');
  
  
  results.forEach(result => {
  const text = result.textContent.trim();
  
  if (!isNaN(text) && text !== '') {
    const li = document.createElement('li');
    li.textContent = text;
    numberList.appendChild(li);
  } else if (text !== '') {
    const li = document.createElement('li');
    li.textContent = text;
    wordList.appendChild(li);
  }
  });
  wordCell.appendChild(wordList);
  numberCell.appendChild(numberList);
  
  
  numberRow.appendChild(wordCell);
  numberRow.appendChild(numberCell);
  table.appendChild(numberRow);
  
  listDone.appendChild(table);
  }
  
  
  document.addEventListener('click', function(event) {
  if (event.target.tagName === 'BUTTON') {
  show(event);
  }
  });
  
  
  function animateCart() {
  const icon = document.getElementById('cart-icon');
  
  
  icon.classList.add('show');
  
  
  setTimeout(() => {
  icon.classList.remove('show');
  }, 1000);
  }
  
                       </closeScript
                             
                               
                           </closebody
                         </closhtml` ;

  // Get values from input fields (not set them!)
  let find = 'closeScript' ;
  let replace ='script>' ;

  let find2 = 'backTeck' ;
  let replace2 =  '`' ;

  let find3 =  'sDollar' ;
  let replace3 = '$' ;

  let find4 = 'var-num' ;
  let replace4 = document.getElementById("replaceWord4").value;
  let find5 = 'closhtml' ;
  let replace5 = 'html>';
  let find6 = 'closebody' ;
  let replace6 = 'body>';
  

  if (!find4) {
    alert("Please enter at least one word to replace.");
    return;
  }

  // Perform replacements one by one
  text = text.replace(new RegExp(find, 'gi'), replace);
  text = text.replace(new RegExp(find2, 'gi'), replace2);
  text = text.replace(new RegExp(find3, 'gi'), replace3);
  if (find4) text = text.replace(new RegExp(find4, 'gi'), replace4);
  text = text.replace(new RegExp(find5, 'gi'), replace5);
  text = text.replace(new RegExp(find6, 'gi'), replace6);

  document.getElementById("text3").value = text;
}

  
    
  </script>
  
  

  <script>

    function combineAndCopy() {
      // Get the values of all 3 textareas
      const bgr = document.getElementById('bgr').value;
      const text1 = document.getElementById('text1').value = `<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>embed</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
      <style>
    body { 
        margin: 0;
      height: 100vh;
      overflow: hidden;
      background-image: url('https://github.com/mohamed36578/my_photo/blob/3b4b55159f43de2cbabf4aa952888dfc8f735300/img/${bgr}.jpg?raw=true');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      color: white;
      }
    
        h2 {
          margin-bottom: 1rem;
          font-weight: bold;
        }
    
        .menu-section {
                      margin: 20px;
                border-radius: 8px;
                 /* 50% opacity */
                
        }
    
        .card-container {
          perspective: 1000px;
          margin-bottom: 2rem;
        }
    
        .flip-card {
          width: 100%;
          height: 100px;
          position: relative;
          transition: transform 0.6s;
          transform-style: preserve-3d;
        }
    
        .flipped {
          transform: rotateY(180deg);
        }
    
        .card-front,
        .card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          border:white solid 2px;
          border-top: none;
          border-radius: 15px;
          backface-visibility: hidden;
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          padding: 1rem;
          background-color: transparent; /* 50% opacity */
          border-left: none;
        }
    
     
    
        .card-back {
          transform: rotateY(180deg);
          position: relative; /* or absolute/fixed/sticky */
          z-index: 10;
          background-color: rgba(0,0,0,0.5);;
          
        }
        .bgr{  height: 100%;
      overflow-y: auto;
      padding: 2rem;
      background-color: rgba(0, 0, 0, 0.5); /* optional glass effect */
        }
    .embed-card { border-radius: 10px; padding: 15px; margin-bottom: 20px;}
    button{
      border-radius: 8px;
      background-color: transparent;
      color: white;
      border: 2px white solid;
    }
    .dynamic-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .dynamic-table th {
      background-color: #4CAF50;
      color: white;
      padding: 12px;
      text-align: center;
      font-size: 18px;
    }
    
    .dynamic-table td {
      padding: 10px;
      text-align: center;
      border: 1px solid #ddd;
      font-size: 16px;
    }
    
    .dynamic-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    
    .dynamic-table tr:hover {
      background-color: #f1f1f1;
    }
    
    
    ul {
        list-style-type: none;
        padding-left: 0;
        margin: 0;
      }
      span{
        width: 50%;
      }
      #cart-icon {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      font-size: 2.5rem;
      opacity: 0;
      transition: transform 1s ease, opacity 1s ease;
      z-index: 1000;
      pointer-events: none;
      background-image: url('https://github.com/mohamed36578/my_photo/blob/main/add_to_cart.png?raw=true');
      background-size: cover;
      width: 300px;
      height: 300px;
    }
    
    #cart-icon.show {
      transform: translateX(-50%) translateY(-200px);
      opacity: 1;
    }
    .btn-success{
      background-color: transparent;
      border: 2px solid green;
      border-radius: 10px;
      border-top: none;
      border-left: none;

    }
    .btn-danger{
      background-color: transparent;
      border: 2px solid red;
      border-radius: 10px;
      color: red;
      border-top: none;
      border-left: none;
    }
    
  </style>
  
  
</head>
<body>
    <div class="bgr">
      <div class="select" id="select" >
          
         
      </div>
          <br>
  <br>
    <br>
          <div id="total-price" class="text-end fs-4 fw-bold text-white mb-3">Total: 0 </div>
          <br>
          <br>
          <button onclick="sendOrderToWhatsApp()">Send</button>
      
          <div class="list_done" id="list_done">
    
    <br><br><br><br><br><br>  <br><br><br><br><br><br><br><br>
<!-- Add the itemes between here -->` ;
      const text2 = document.getElementById('text2').value;
      const text3 = document.getElementById('text3').value;
     
                         

      // Combine the contents (with new lines between them)
      const combinedText = text1 + "\n" + text2 + "\n" + text3;

      // Show the output inside the div
      document.getElementById('output').textContent = combinedText;

      // Copy to clipboard
      navigator.clipboard.writeText(combinedText)
        .then(() => {
          alert('Text copied to clipboard successfully!');
        })
        .catch(err => {
          alert('Failed to copy text: ' + err);
        });
    }
  </script>
  <script>
    // Save textarea contents to localStorage whenever they change
    function autoSaveTextareas() {
      const textareas = ['text1', 'text2', 'text3'];
      textareas.forEach(id => {
        const textarea = document.getElementById(id);
        textarea.addEventListener('input', () => {
          localStorage.setItem(id, textarea.value);
        });
      });
    }
  
    // Load saved content from localStorage into the textareas on page load
    function loadSavedTextareas() {
      ['text1', 'text2', 'text3'].forEach(id => {
        const saved = localStorage.getItem(id);
        if (saved !== null) {
          document.getElementById(id).value = saved;
        }
      });
    }
  
    // Call both functions on page load
    window.addEventListener('DOMContentLoaded', () => {
        

      loadSavedTextareas();
      autoSaveTextareas();
    });
  </script>
  

</body>
</html>
